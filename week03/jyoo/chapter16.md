# Ch.16 클래스 안에 클래스가 들어갈 수도 있구나
- Nested Class 의 존재이유: `코드를 간결하게 표현하기 위해`
- 사용 목적: 
  - 한 곳에서만 사용되는 클래스를 논리적으로 묶어서 처리할 필요가 있을 때
    - static 중첩 클래스가 사용되는 이유
  - 캡슐화가 필요할 때 (내부 구현을 감추고 있을 때)
    - A 클래스에 선언된 private 필드에 접근하고 싶은 B 라는 클래스를 선언하고, B 를 외부 (A가 아닌 다른 코드)에 노출하고 싶지 않은 경우
    - 내부 클래스를 사용하는 이유
  - 소스의 가독성과 유지보수성을 높이고 싶을 때
- 구분:
  - static nested class: static 예약어가 선언된 중첩 클래스
  - inner class: static 예약어가 없이 선언된 중첩 클래스
    - local inner class: 이름이 있는 내부 클래스 (주로 내부클래스라 부름)
    - Anonymous inner class: 주로 익명 클래스로 칭함
- 클래스 외부에 선언된 클래스는 중첩 클래스가 아님
  ```java
    public class OuterClass{
        class NestedClass{} // 중첩 클래스임!
    }
    class NotNestedClass{} // 중첩 클래스 아님!
    ```

### static 중첩 클래스
- static 과 함깨 선언되어, 선언되어 있는 클래스 외에서도 호출이 가능한 클래스
  - `선언한 클래스.static중첩클래스` 이런 식으로 사용한다.
  - 다른 중첩 클래스들과 달리 상위 클래스의 필드에 접근할 수 없다 (static 필드 제외).
- 왜 이런 클래스를 만들까?
  - 클래스를 묶기 위해.
    - Builder 등을 흔히 정적 중첩 클래스로 선언하는 것이 좋은 예
      - 이 클래스들은 해당 클래스를 빌드하기 위해 존재하고, 외부에서도 접근하여 빌더를 사용할 수 있어야 하기 때문.
  - 바깥 클래스의 인스턴스에 의존하지 않음 
  - 논리적으로 바깥 클래스와 관계있지만, 독립적으로도 사용될 수 있음 
  - 바깥 클래스의 유틸리티/빌더/helper로서 작동
- 🚨❗ **[의문점]** static 예약어는 클래스에 한해선 중첩 클래스에 밖에 쓸 수 없는데 그 이유는 무었인가?

### 내부 클래스와 익명 클래스
- 하나의 클래스에서 어떠한 공통 작업을 수행하는 클래스가 필요하나 다른 클래스에서는 그 클래스가 전 필요없는 경우에 만든다고 함
- 익명 클래스의 장점:
  - 클래스를 만들고 호출하면 메모리에 올라가고, 많을 수록 많은 메모리를 요구하게 된다. => 애플리케이션 시작시 더 많은 시간이 소요되게 된다.
  - 특수한 상황에서만 쓰는 클래스를 위해 불필요하게 클래스를 만들면 메모리 사용량이 아까워 지게 되니 이러한 방식을 제공하는 것 이다.
  - 코드의 가독성이 높아질 수 있으나, 남발하면 오히려 안좋아질 수 있음

### 중첩 클래스의 특징
- 정적 중첩 클래스는 정적 변수 / 함수만 접근 가능
- 내부/익명 클래스는 모든 변수에 접근이 가능
  - private 한 클래스도 접근이 가능하다.