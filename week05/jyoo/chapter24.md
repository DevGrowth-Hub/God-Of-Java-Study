# ch.24 자바랭 다음으로 많이 쓰는 애들은 컬랙션 - Part3(Map)

---
### Map 이란?
    1. 모든 데이터는 키와 값이 존재
    2. 키가 없이 값만 저장될 수는 없다
    3. 값 없이 키만 저장될 수는 있다
    4. 키는 해당 Map에서 고유해야만 한다
    5. 값은 중복되어도 된다

#### 주요 구현 클래스들:
- Hashtable
   - 일반적인 Map 과는 다름
   - Collection View 를 사용하는 일반적인 Map 과 달리 Enumeration 객체를 이용해 데이터를 처리
     - Collection View란?
       - Map은 Collection 과는 다르다, (단일 요소를 저장하는 자료구조가 아니라는 의미) Collection 의 하위 타입이 아닌 Map을, Collection 처럼 다루기 위해 있는 뷰 객체.
         - keySet, values, entrySet 메서드 들이 여기에 속함.
   - 키-값 쌍으로 데이터를 순환하여 처리할 수 없다.
     - 사실이 아님. 결국 Hashtable도 Map을 구현하고 있고, JDK 1.2 부터는 수정되어 가능함.
   - Map은 이터레이션 도중 데이터를 삭제하는 안전한 방법을 제공하지만 Hashtable은 그렇지 않음
   - 키나 값에 null 사용이 불가함
   - thread safe

##### HashMap
- 개발자가 생성한 객체를 키로 사용하게 될 경우, hashCode와 equals 메서드를 잘 구현해 놓아야 한다.
  - HashMap에 객체가 들어가면 hashCode() 결과 값에 따른 버킷이라는 목록 형태의 바구니가 만들어지는데 만약 다른 값을 지닌 키가 저장되었는데 hashCode 결과가 같다면 같은 버킷에 값이 저장되어 버린다.
  - 이런 상황에 get을 호출할 경우 equals 를 통해 키를 다시 비교해 값을 찾아서 리턴함
    - 위와 같은 이유 떄문에 Map의 키로 사용되는 클래스를 만드는 경우 반드시 hashCode 와 equals 를 구현해 줘야함

##### TreeMap
- 정렬된 키의 목록을 원할 때 사용
  - 키와 값을 저장하면서 키를 정렬시켜주는 클래스
  - SortedMap을 구현하는 클래스이다.
  - Arrays 클래스를 이용해 정렬하는 방법도 있으나 이는 불필요한 객체가 생성되는 문제가 있음
- 키가 정렬되기 때문에, 아주 많은 데이터를 저장하게 되면 HashMap 보다 성능이 떨어질 것.
  - 100건 1000건 정도는 정렬이 필요한 상황이라면 TreeMap이 더 좋다는게 저자의 의견
- 키값이 정렬되어 있기 때문에 얻는 장점:
  - 챳번째, 마지막 키를 가져오는 메서드 존재
  - 특정 키를 중심으로 그 이전 키와 이후 키를 가져오는 메서드가 존재.
    - 이러한 메서드들은 키를 검색하는 프로그램을 작성할 때 매우 도움이 된다고 함.

##### Properties
- Hashtable을 확장하는 클래스 -> Map 인터페이스를 전부 구현해야함.
- System에서 사용하는 클래스이다.
  - 시스템의 속성등을 담는데 사용
- 다른 Map의 구현체(HashMap 등)이 아니라 이 클래스를 사용하는 이유:
  - 파일로부터 설정을 읽어 오거나, 파일에 속성을 저장할 수 있는 기능들을 제공함.