# Ch.09 자바를 배우면 패키지와 접근 제어자는 꼭 알아야 해요

### 패키지는 그냥 폴더의 개념이 아니에요
- 패키지는 소스코드를 트리 구조로 이름이 중복되거나, 해당 클래스가 어떤 일을 하는지 알 수 있더럭 분류하기 위해 존재한다
  - 🚨❗ **[의문점]** 이외에 필요한 이유는 무엇이 있을까?
    - 접근 제어자를 통해 패키지 단위의 접근 제어를 제공하기에 이를 이용한 클래스간의 관계 구성 가능
    - 클래스 관리를 용이하게 함.
- 자바는 컴파일 하려는 소스코드의 패키지의 가장 상위 디렉토리, 즉 root 디렉토리에서 컴파일 해야한다는 약속이 있다.
#### 패키지 선언의 제약사항:
    1. 소스의 가장 첫 줄에 있어야 함.
        * 주석 / 공백은 상관 없다.
        * 그 외에 모든 자바 문장이 하나라도 있다면 컴파일이 실패한다.
    2. 패키지 선언은 소스 하나에 하나만 있어야 한다.
    3. 패키지 이름과 위치한 폴더 이름이 같아야만 한다.
        * Javac 를 통한 컴파일시 파일을 찾지 못하는 이슈가 있다고 함.
        * 그러나 의문점인 점은, javac 명령어를 실행할 때 root 에서 파일 경로를 내려주는데 왜 못찾는 걸까?
    4. 패키지 이름은 java 로 시작하면 안된다
        * java.lang.SecurityException 이 발생하고, `Prohibited package name: java 라고 나온다고 함`
        * 단순히 말하면 이 패키지 네임은 Oracle 에서 자바를 개발하는 개발자들에게만 허락된 패키지 이름이라고 함.
    5. 자바 예약어가 포함되면 안됨.

### 패키지 네임은 이렇게 지어요
#### 기본 규칙:
    - java -> Java 벤더에서 개발하는 자바 기본 패키지
    - javax -> Java 벤더에서 개발하는 자바 확장 패키지 (이건 우리도 사용 가능)
    - org -> 일반적으로 비영리단체(오픈소스)의 패키지
    - com -> 일반적으로 영리단체(회사)의 패키지
  - java 를 제외하고는, 사용이 불가하던가 하는 제약이 있지는 않고, 일반적으로 사용하는 패키지 네임 컨밴션이다.
  - 컨벤션의 연장으로, 패키지는 소문자로 지정해야 한다.
  - 자바의 예약어를 사용하면 절대 안된다.
  - 🚨❗ **[의문점]** 연차가 쌓인 개발자라면, 어떻게 패키지를 구분하여 작성하는 것이 좋은 습관일까?

### import 를 이용하여 다른 패키지에 접근
- 자바에서는 같은 패키지에 있는 클래스들과 java.lang 패키지에 있는 클래스들만 찾을 수 있고 사용할 수 있다.
- 다른 패키지에 있는 클래스들을 찾아서 사용하기 위해 필요한 것이 import 이다.
  - 이 import를 통해 컴파일러에게 어떤 클래스를 사용하겠다는 것을 알려주고, 컴파일러는 그 클래스의 소제를 파악해서 컴파일한다고 한다.
    - 🚨❗ **[의문점]** 이게 어떻게 가능한 걸까? 컴파일을 할 때는 명령어에 루트 경로에서 직접 폴더 구조를 통해 경로를 지정하는 매개 변수를 넘겼어야 했는데 왜 클래스에 import 를 붙이면 그냥 알아서 가져올 수 있게 되는 것일까?
      - classpath 설정과 패키지 구조 기반의 네임스페이스 관리 방식 때문.
      - 컴파일 할 때 루트에서 경로를 지정해서 컴파일하는 것은 경로 정보를 넘겨주는 것이 아닌, 컴파일할 파일의 경로를 지정하는 것 뿐이다.
      - import 를 통해 컴파일러는 classpath 를 기준으로 그 안에 있는 패키지 구조 안에 있는 클래스 파일을 찾을 수 있게 되는 것.
        - 컴파일시 -cp / --classpath 옵션으로 지정하지 않았다면 현재 javac 를 실행하는 디렉터리가 classpath가 된다. 
- static import 를 통해 가져온 메서드가 변수가 이름이 자신의 클래스에 있는 메서드 / 변수의 이름과 겹치면 **자신이 가지고 있는 변수/메서드가 우선되며** 해당 import 해오려던 변수/메서드는 사용할 수 없게된다.

### 자바의 접근 제어자
    public -> 누구나 접근 가능
    protected -> 같은 패키지에 있거나, 상속받은 경우에 접근 가능
    package-private (default) -> 같은 패키지
    private -> 클래스 내부에서만
- 하나의 클래스 파일에는 반드시 하나의 public 접근 제어자를 가진 클래스만 있어야 한다
- private / protected 클래스는 무조건 다른 클래스의 내부에 중첩 클래스로만 (nested) 존재가 가능하다. 